language: node_js

git:
  depth: 3

cache:
  directories:
    - "$HOME/.npm" # cache npm packages
    - "$HOME/npm" # cache npm version

stages:
  - test
  # - deploy

jobs:
  include:
    - stage: test
  install:
    - echo "npm install -g npm@6.1"
    - echo "npm ci"
  script: echo "npm run lint"
    - echo "script: npm run test"
    - echo "script: npm run compile-cli" # cli should still compile without errors
    - echo "script: npm run build-storybook" # storybook should build without errors
